import e from"jquery";function isInt(e){return!isNaN(e)&&parseInt(Number(e))==e&&!isNaN(parseInt(e,10))}e.fn.vCollapse=function(t=null){e(this);let a=e(this).find(".vcollapse-toggle"),s=e(this).find(".vcollapse-content"),i={any:!1,onLoad:0,speed:300,easing:"ease-in-out"};null!==t&&e.each(t,function(e,t){i[e]=t});let n;e(window).on("resize",function(){clearTimeout(n),n=setTimeout(()=>{e(".vcollapse-content.active").each(function(){let t=e(this);t[0].style.height="auto";let a=t[0].scrollHeight;t[0].style.height=a+"px"})},10)}),"all"===i.onLoad&&(a.addClass("active"),s.each(function(){let t=e(this);t[0].style.height=t[0].scrollHeight+"px"}),i.any=!0),"none"===i.onLoad&&(a.removeClass("active"),s.each(function(){let t=e(this);t[0].style.height="0px"})),"all"!==i.onLoad&&"none"!==i.onLoad&&(Array.isArray(i.onLoad)||(isInt(i.onLoad)?i.onLoad=[i.onLoad]:console.error("Invalid onLoad option: "+i.onLoad)),s.each(function(t){let n=e(this);i.onLoad.includes(t)?(n[0].style.height=n[0].scrollHeight+"px",a.eq(t).addClass("active"),s.eq(t).addClass("active")):n[0].style.height="0px"}),i.onLoad.length>1&&(i.any=!0)),s.each(function(){let t=e(this);t[0].style.transition="height "+i.speed/1e3+"s "+i.easing,t[0].style.overflow="hidden"}),a.each(function(t){let n=e(this);n.on("click",function(){let t=e(e(this).data("target"));i.any?e(this).hasClass("active")?(e(this).removeClass("active"),t[0].style.height="0px",t.removeClass("active")):(e(this).addClass("active"),t[0].style.height=t[0].scrollHeight+"px",t.addClass("active")):(a.removeClass("active"),e(this).addClass("active"),s.each(function(){e(this)[0].style.height="0px",e(this).removeClass("active")}),t[0].style.height=t[0].scrollHeight+"px",t.addClass("active"))})})};